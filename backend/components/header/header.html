{% load static %}

<nav class="flex p-6 justify-between items-center">
    <!-- Logo at the left -->
    <div class="flex basis-1/4">
        <a href="{% url 'pages:home' %}" class="-m-1.5 p-1.5">
            <div class="flex">
                <img class="" src="{% static 'logo.svg' %}" alt="">
                <!-- <img class="ml-1.5 mt-1.5" src="{% static 'logo-icon.svg' %}" alt=""> -->
                <div class="relative ml-1.5">
                    <img class="spin-animation mt-2" src="{% static 'logo-icon1.svg' %}" alt="">
                    <img class="absolute top-2.5 right-0.5" src="{% static 'logo-icon2.svg' %}" alt="">
                </div>
            </div>
        </a>
    </div>

    <!-- Mobile menu show/hide button -->
    <!-- Active only at small devices -->
    <div class="sm:hidden group flex">
        <button type="button" id="mobileOpenButton" onclick="openMobile()">
            {% include 'svg/menu.html' %}
        </button>
        <button type="button" id="mobileCloseButton" onclick="openMobile()" hidden>
            {% include 'svg/close.html' %}
        </button>
    </div>

    <!-- Desktop menu -->
    <div class="hidden basis-2/4 justify-center sm:flex sm:gap-x-8 md:gap-x-12 lg:gap-x-16">
        <div>
            <a href="{% url 'pages:home' %}">
                Меню
            </a>
        </div>

        <div>
            <a href="{% url 'promotion:promotion_list' %}">
                Акции
            </a>
        </div>

        <!-- Desktop Flyout menu -->
        <div class="relative">

            <button type="button" class="group flex items-center gap-x-1" onclick="openDesktopFlyout()">
                <div>
                    Контакты
                </div>
                <div class="transition duration-300" id="flyoutContactDesktopIcon">
                    {% include 'svg/expand_more.html' %}
                </div>
            </button>

            <div class="absolute border -right-36 z-10 mt-5 w-screen max-w-md overflow-hidden rounded-3xl bg-white shadow-lg"
                id="flyoutContactDesktop" hidden>

                <div class="p-4">
                    <div class="group relative flex items-center gap-x-6 rounded-lg p-4 text-sm leading-6 hover:bg-sec">
                        <div
                            class="flex h-11 w-11 flex-none items-center justify-center rounded-lg bg-gray-50 group-hover:bg-white">
                            {% include 'svg/call.html' %}
                        </div>

                        <div class="flex-auto">
                            <a href="tel:+79012207967" class="block">
                                <span>8-901-220-79-67</span>
                                <span class="absolute inset-0"></span>
                            </a>
                            <p class="mt-1">Звонок бесплатный по всей России</p>
                        </div>

                    </div>

                    <div class="group relative flex items-center gap-x-6 rounded-lg p-4 text-sm leading-6 hover:bg-sec">

                        <div
                            class="flex h-11 w-11 flex-none items-center justify-center rounded-lg bg-sec group-hover:bg-white">
                            {% include 'svg/explore_nearby.html' %}
                        </div>

                        <div class="flex-auto">
                            <a href="{% url 'pages:delivery' %}" class="block">
                                <span class="my-text1 group-hover:my-text1-hover">ул. Шурманова, дом 113б</span>
                                <span class="absolute inset-0"></span>
                            </a>
                            <p class="my-text2 mt-1">Наш адрес</p>
                        </div>

                    </div>
                </div>

                <div class="grid grid-cols-2 divide-x divide-gray-900/5 bg-gray-50">

                    <a href="{% url 'pages:important' %}"
                        class="group flex items-center justify-center gap-x-2.5 p-3 leading-6 hover:bg-gray-100">
                        {% include 'svg/info.html' %}
                        <span class="my-text1 group-hover: my-text1-hover">Информация</span>
                    </a>

                    <a href="tel:+79012207967"
                        class="group flex items-center justify-center gap-x-2.5 p-3 leading-6 hover:bg-gray-100">
                        {% include 'svg/support_agent.html' %}
                        <span class="my-text1 group-hover:my-text1-hover">Связаться</span>
                    </a>

                </div>

            </div>

        </div>
        <!-- Desktop Flyout menu END -->
    </div>

    <div class="hidden basis-1/4 sm:flex justify-end">

        <div class="group mr-3">
            <a href="{% url 'orders:order_list' %}">
                {% include 'svg/fast_check.html' %}
            </a>
        </div>

        <div class="relative group mr-3">
            <a href="{% url 'cart:cart_details' %}">
                {% include 'svg/shopping_bag.html' %}
            </a>
            {% include 'header/cart_badge.html' %}
        </div>

        <div class="group">
            <a href="{% url 'accounts:account_page' %}">
                {% include 'svg/account_circle.html' %}
            </a>
        </div>
    </div>
    <!-- Desktop menu END -->

</nav>

<nav id="mobileMenu" hidden>
    <!-- Divider -->
    <hr class="mt-2 mx-auto flex max-w-7xl">

    <div class="flex flex-col mx-2 my-4 gap-2">
        <div class="cursor-pointer" onclick="openMobileFlyout()">
            <div class="p-2 border rounded-xl hover:border-accent hover:bg-sec-100">
                <div class="flex justify-between mx-2">
                    <div>
                        Контакты
                    </div>
                    <div id="flyoutContactMobileIcon" class="transition duration-300">
                        {% include 'svg/expand_more.html' %}
                    </div>
                </div>
            </div>
        </div>

        <div id="flyoutContactMobile" hidden class="ml-8">
            <div class="flex flex-col gap-2">
                <div>
                    <a href="#">
                        <div class="p-2 border rounded-xl hover:border-accent hover:bg-sec-100">
                            <div class="mx-2">
                                <a href="tel:+79012207967">
                                    8-901-220-79-67
                                </a>
                            </div>
                        </div>
                    </a>
                </div>
                <div>
                    <a href="{% url 'pages:delivery' %}">
                        <div class="p-2 border rounded-xl hover:border-accent hover:bg-sec-100">
                            <div class="mx-2">
                                ул. Шурманова, дом 113б
                            </div>
                        </div>
                    </a>
                </div>
            </div>
        </div>

        <div>
            <a href="{% url 'pages:about' %}">
                <div class="p-2 border rounded-xl hover:border-accent hover:bg-sec-100">
                    <div class="mx-2">
                        О компании
                    </div>
                </div>
            </a>
        </div>
        <div>
            <a href="{% url 'orders:order_confirm' %}">
                <div class="p-2 border rounded-xl hover:border-accent hover:bg-sec-100">
                    <div class="mx-2">
                        Оформить заказ
                    </div>
                </div>
            </a>
        </div>
        <div>
            <a href="{% url 'cart:cart_details' %}">
                <div class="p-2 border rounded-xl hover:border-accent hover:bg-sec-100">
                    <div class="mx-2">
                        Корзина
                    </div>
                </div>
            </a>
        </div>
        <div>
            <a href="{% url 'accounts:account_page' %}">
                <div class="p-2 border rounded-xl hover:border-accent hover:bg-sec-100">
                    <div class="mx-2">
                        Личный кабинет
                    </div>
                </div>
            </a>
        </div>
    </div>
</nav>